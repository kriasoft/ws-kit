import{x as e,b as d,i as r,p as a}from"./chunks/framework.Dl5MHC_T.js";const m=JSON.parse('{"title":"Architectural Decision Records (ADRs)","description":"","frontmatter":{},"headers":[],"relativePath":"adr/README.md","filePath":"adr/README.md","lastUpdated":1764885000000}'),n={name:"adr/README.md"};function s(o,t,i,c,p,l){return r(),d("div",null,[...t[0]||(t[0]=[a('<h1 id="architectural-decision-records-adrs" tabindex="-1">Architectural Decision Records (ADRs) <a class="header-anchor" href="#architectural-decision-records-adrs" aria-label="Permalink to “Architectural Decision Records (ADRs)”">​</a></h1><p>This directory contains architectural decisions that shaped ws-kit&#39;s design. Each ADR documents the problem, decision, and rationale behind major features and patterns.</p><h2 id="index" tabindex="-1">Index <a class="header-anchor" href="#index" aria-label="Permalink to “Index”">​</a></h2><table tabindex="0"><thead><tr><th>#</th><th>Title</th><th>Status</th><th>Impact</th><th>Related Spec</th></tr></thead><tbody><tr><td><a href="./001-message-context-conditional-payload-typing">001</a></td><td>Message Context Conditional Payload Typing</td><td>✅ Implemented</td><td>Core—Type safety for message payloads</td><td><a href="./../specs/schema">schema.md</a></td></tr><tr><td><a href="./002-typed-client-adapters">002</a></td><td>Typed Client Adapters via Type Overrides</td><td>✅ Implemented</td><td>Client—Full type inference in browser/Node.js</td><td><a href="./../specs/client">client.md</a></td></tr><tr><td><a href="./003-example-imports">003</a></td><td>Example Imports</td><td>—</td><td>Documentation</td><td>—</td></tr><tr><td><a href="./archive/004-typed-router-factory">004</a></td><td>Typed Router Factory</td><td>—</td><td>Superseded by ADR-007 (archived)</td><td>—</td></tr><tr><td><a href="./005-builder-pattern-and-symbol-escape-hatch">005</a></td><td>Builder Pattern and Symbol Escape Hatch</td><td>—</td><td>Design pattern exploration</td><td>—</td></tr><tr><td><a href="./006-multi-runtime-serve-with-explicit-selection">006</a></td><td>Multi-Runtime <code>serve()</code> with Explicit Selection</td><td>Accepted</td><td>Server—Cross-platform deployment</td><td><a href="./../specs/router">router.md</a></td></tr><tr><td><a href="./007-export-with-helpers-pattern">007</a></td><td>Export-with-Helpers Pattern</td><td>Final</td><td>Core—Message and router API</td><td><a href="./../specs/schema">schema.md</a>, <a href="./../specs/router">router.md</a></td></tr><tr><td><a href="./008-middleware-support">008</a></td><td>Middleware Support (Global and Per-Route)</td><td><strong>Final</strong></td><td>Core—Production-ready middleware for auth, logging, rate limiting</td><td><a href="./../specs/router">router.md</a></td></tr><tr><td><a href="./009-error-handling-and-lifecycle-hooks">009</a></td><td>Error Handling Helpers and Lifecycle Hooks</td><td>✅ Implemented</td><td>Core—Type-safe errors and observability</td><td><a href="./../specs/error-handling">error-handling.md</a></td></tr><tr><td><a href="./010-throttled-broadcast-pattern">010</a></td><td>Throttled Broadcast Pattern</td><td>Accepted</td><td>Optimization—Real-time collaboration</td><td><a href="./../specs/patterns">patterns.md</a></td></tr><tr><td><a href="./011-structured-logging-adapter">011</a></td><td>Structured Logging Adapter Interface</td><td>Accepted</td><td>Observability—Production logging integration</td><td>—</td></tr><tr><td><a href="./012-rpc-minimal-reliable">012</a></td><td>Minimal Reliable RPC for WebSocket Routing</td><td>✅ Implemented</td><td>RPC—Abort, backpressure, deadlines, one-shot</td><td><a href="./../specs/schema">schema.md</a>, <a href="./../specs/router">router.md</a></td></tr><tr><td><a href="./013-rpc-reconnect-idempotency">013</a></td><td>RPC Reconnect &amp; Idempotency Policy</td><td>✅ Implemented</td><td>RPC—Client resend, deduplication patterns</td><td><a href="./../specs/client">client.md</a></td></tr><tr><td><a href="./014-rpc-dx-safety-improvements">014</a></td><td>RPC DX &amp; Safety Improvements</td><td>✅ Implemented</td><td>RPC—Auto-correlation, unicast, error codes</td><td><a href="./../specs/schema">schema.md</a>, <a href="./../specs/client">client.md</a></td></tr><tr><td><a href="./015-unified-rpc-api-design">015</a></td><td>Unified RPC API with Explicit Primitives</td><td>✅ Implemented</td><td>RPC—Schema unification, reply/progress, taxonomy</td><td><a href="./../specs/schema">schema.md</a>, <a href="./../specs/router">router.md</a></td></tr><tr><td><a href="./016-connection-data-api-naming">016</a></td><td>Connection Data API Naming</td><td>✅ Implemented</td><td>API—<code>assignData()</code> method naming</td><td><a href="./../specs/router">router.md</a></td></tr><tr><td><a href="./017-message-api-parameter-naming">017</a></td><td>Message API Parameter Naming</td><td>✅ Implemented</td><td>API—<code>payload</code>, <code>response</code>, <code>meta</code> terminology</td><td><a href="./../specs/schema">schema.md</a></td></tr><tr><td><a href="./018-broadcast-method-naming">018</a></td><td>Broadcast Method Naming</td><td>✅ Implemented</td><td>API—<code>publish()</code> vs <code>broadcast()</code> terminology</td><td><a href="./../specs/pubsub">pubsub.md</a></td></tr><tr><td><a href="./019-ctx-publish-convenience-method">019</a></td><td>Context-Level Publishing (ctx.publish)</td><td>✅ Implemented</td><td>API—<code>ctx.publish()</code> for ergonomic handler DX</td><td><a href="./../specs/pubsub">pubsub.md</a></td></tr><tr><td><a href="./020-send-method-naming">020</a></td><td>Send Method Naming</td><td>✅ Implemented</td><td>API—<code>send()</code> vs <code>unicast()</code> terminology</td><td><a href="./../specs/router">router.md</a></td></tr><tr><td><a href="./021-adapter-first-architecture">021</a></td><td>Adapter-First Architecture for Stateful Features</td><td>Proposed</td><td>Architecture—Pluggable, portable adapters</td><td><a href="./../proposals/rate-limiting">rate-limiting</a> proposal</td></tr><tr><td><a href="./022-namespace-first-pubsub-api">022</a></td><td>Namespace-First Pub/Sub API</td><td><strong>Final</strong></td><td>Pub/Sub—Subscriptions, broadcasting, extensibility</td><td><a href="./../specs/pubsub">pubsub.md</a></td></tr><tr><td><a href="./023-schema-driven-type-inference">023</a></td><td>Schema-Driven Type Inference</td><td><strong>Accepted</strong></td><td>Core—Type safety through schema, no router generics</td><td><a href="./../specs/schema">schema.md</a>, <a href="./../specs/router">router.md</a></td></tr><tr><td><a href="./025-validator-plugins-configurable">025</a></td><td>Validator Plugins with Configurable Options</td><td><strong>Accepted</strong></td><td>Core—Composable, configurable validators</td><td><a href="./../specs/router">router.md</a>, <a href="./../specs/validation">validation.md</a></td></tr><tr><td><a href="./028-plugin-architecture-final-design">028</a></td><td>Plugin Architecture - Final Design</td><td><strong>Accepted</strong></td><td>Core—Type-safe plugin API, capability tracking</td><td><a href="./../specs/router">router.md</a></td></tr><tr><td><a href="./029-context-enhancer-registry-plugin-safety">029</a></td><td>Context Enhancer Registry &amp; Plugin Safety</td><td><strong>Accepted</strong></td><td>Core—Safe multi-plugin composition, typed API</td><td><a href="./../specs/router">router.md</a></td></tr><tr><td><a href="./030-context-methods-design">030</a></td><td>Context Methods Design (reply, progress, send)</td><td><strong>Final</strong></td><td>RPC/Messaging—Unified API for message sending</td><td><a href="./../specs/context-methods">context-methods.md</a></td></tr><tr><td><a href="./031-plugin-adapter-architecture">031</a></td><td>Plugin-Adapter Architecture</td><td><strong>Final</strong></td><td>Core—Plugins define APIs, adapters implement them</td><td><a href="./../specs/plugins">plugins.md</a>, <a href="./../specs/adapters">adapters.md</a></td></tr><tr><td><a href="./032-canonical-imports-design">032</a></td><td>Canonical Imports Design</td><td><strong>Final</strong></td><td>Imports—Each plugin/feature has one canonical source</td><td><a href="./../specs/plugins">plugins.md</a>, <a href="./../specs/canonical-imports">canonical-imports.md</a></td></tr><tr><td><a href="./033-opaque-transport-canonical-connection-data">033</a></td><td>Opaque Transport &amp; Canonical Connection Data</td><td><strong>Final</strong></td><td>Core—Platform-agnostic transport, typed connection data</td><td><a href="./../specs/router">router.md</a></td></tr><tr><td><a href="./034-bun-upgrade-return-semantics">034</a></td><td>Bun WebSocket Upgrade Return Semantics</td><td>✅ Implemented</td><td>Adapter—Correct fetch response handling for upgrades</td><td><a href="./../specs/adapters">adapters.md</a></td></tr><tr><td><a href="./035-bun-adapter-refinement">035</a></td><td>Bun Adapter Refinement</td><td><strong>Final</strong></td><td>Adapter—Auth gating, sync hooks, lean API</td><td><a href="./../specs/adapters">adapters.md</a></td></tr><tr><td><a href="./036-unified-error-handling-core-primitive">036</a></td><td>Unified Error Handling — <code>ctx.error()</code> as Core Primitive</td><td><strong>Proposed</strong></td><td>Core—Unified error method for all contexts</td><td><a href="./../specs/error-handling">error-handling.md</a>, <a href="./../specs/router">router.md</a></td></tr></tbody></table><h2 id="status-legend" tabindex="-1">Status Legend <a class="header-anchor" href="#status-legend" aria-label="Permalink to “Status Legend”">​</a></h2><ul><li><strong>✅ Implemented</strong> — Fully built and tested</li><li><strong>Final</strong> — Finalized design, ready for implementation</li><li><strong>Accepted</strong> — Decision agreed upon, work in progress or planned</li><li><strong>—</strong> — Exploratory or superseded (reference only)</li></ul><h2 id="structure" tabindex="-1">Structure <a class="header-anchor" href="#structure" aria-label="Permalink to “Structure”">​</a></h2><p>Each ADR contains: <strong>Context</strong> (problem) → <strong>Decision</strong> (what) → <strong>Rationale</strong> (why) → <strong>Consequences</strong> (trade-offs).</p><p>Immutable records of decisions at a point in time. Superseded decisions reference newer ADRs.</p>',9)])])}const u=e(n,[["render",s]]);export{m as __pageData,u as default};
