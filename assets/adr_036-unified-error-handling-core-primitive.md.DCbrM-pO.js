import{x as s,b as e,i as a,p as n}from"./chunks/framework.Dl5MHC_T.js";const k=JSON.parse('{"title":"ADR-036: Unified Error Handling — ctx.error() as Core Primitive","description":"","frontmatter":{},"headers":[],"relativePath":"adr/036-unified-error-handling-core-primitive.md","filePath":"adr/036-unified-error-handling-core-primitive.md","lastUpdated":1763674706000}'),r={name:"adr/036-unified-error-handling-core-primitive.md"};function t(o,i,l,h,d,p){return a(),e("div",null,[...i[0]||(i[0]=[n(`<h1 id="adr-036-unified-error-handling-—-ctx-error-as-core-primitive" tabindex="-1">ADR-036: Unified Error Handling — <code>ctx.error()</code> as Core Primitive <a class="header-anchor" href="#adr-036-unified-error-handling-—-ctx-error-as-core-primitive" aria-label="Permalink to “ADR-036: Unified Error Handling — ctx.error() as Core Primitive”">​</a></h1><p><strong>Status</strong>: Accepted</p><p><strong>Related</strong>: <a href="./015-unified-rpc-api-design">ADR-015 Unified RPC API Design</a>, <a href="./009-error-handling-and-lifecycle-hooks">ADR-009 Error Handling and Lifecycle Hooks</a>, <a href="./031-plugin-adapter-architecture">ADR-031 Plugin-Adapter Architecture</a>, <a href="./030-context-methods-design">ADR-030 Context Methods Design</a></p><h2 id="context" tabindex="-1">Context <a class="header-anchor" href="#context" aria-label="Permalink to “Context”">​</a></h2><p>Documentation and type definitions promise <code>ctx.error()</code> in all handler contexts (events, RPC, middleware), but the runtime implementation is incomplete:</p><ul><li>Only the RPC plugin provides <code>ctx.error()</code>, not event contexts.</li><li>The RPC implementation uses a private <code>&quot;$ws:rpc-error&quot;</code> wire type instead of the canonical <code>&quot;RPC_ERROR&quot;</code>.</li><li>Error metadata (retry semantics, backoff hints) is not surfaced via <code>ERROR_CODE_META</code>.</li><li>The <code>cause</code> field is missing for error chain preservation.</li><li>No unified lifecycle hook to observe all application errors (thrown + explicit <code>ctx.error()</code> calls).</li></ul><p>This creates a mismatch between documented and runtime behavior, and developers lack a consistent error-reporting API across different handler types.</p><h2 id="decision" tabindex="-1">Decision <a class="header-anchor" href="#decision" aria-label="Permalink to “Decision”">​</a></h2><p>Establish <code>ctx.error()</code> as a <strong>core primitive</strong> on every <code>MinimalContext</code>, with a single unified implementation that:</p><ol><li><p><strong>Available everywhere</strong>: Attached to all message contexts (events, RPC, middleware) via an early context enhancer.</p></li><li><p><strong>Fire-and-forget semantics</strong>: Returns <code>void</code> (never <code>Promise&lt;void&gt;</code>). Enqueued asynchronously and returns immediately. No backpressure, signal, or drain semantics (those belong to <code>reply()</code> and <code>send()</code> only).</p></li><li><p><strong>Unified wire format</strong>: Sends canonical <code>&quot;ERROR&quot;</code> for event contexts and <code>&quot;RPC_ERROR&quot;</code> for RPC contexts (distinguishing semantic), both using the same <code>ErrorPayload</code> structure.</p></li><li><p><strong>RPC one-shot semantics</strong>: For RPC handlers, <code>ctx.error()</code> shares a reply guard with <code>ctx.reply()</code> and <code>ctx.progress()</code>. Only the first terminal call sends; subsequent calls are no-ops.</p></li><li><p><strong>Retry inference from metadata</strong>: Uses <code>ERROR_CODE_META</code> for standard error codes to automatically infer:</p><ul><li><code>retryable</code> (boolean | &quot;maybe&quot; for custom errors)</li><li><code>suggestBackoffMs</code> (recommended client backoff interval)</li><li>Allow explicit overrides via <code>ErrorOptions.retryable</code> and <code>ErrorOptions.retryAfterMs</code></li></ul></li><li><p><strong>Error chain preservation</strong>: Accepts an optional <code>cause</code> parameter (WHATWG standard) for error chain preservation during wrapping/translation.</p></li><li><p><strong>Lifecycle routing</strong>: All errors created via <code>ctx.error()</code> are passed through <code>router.onError()</code> handlers (same as thrown handler errors), ensuring unified observability.</p></li></ol><h2 id="rationale" tabindex="-1">Rationale <a class="header-anchor" href="#rationale" aria-label="Permalink to “Rationale”">​</a></h2><ul><li><strong>DX Consistency</strong>: Developers use the same method signature across all handler types; no &quot;different error APIs for different contexts.&quot;</li><li><strong>Type Safety</strong>: Standard error codes are fully typed; custom domain codes preserve literal type.</li><li><strong>Observability Unity</strong>: All application errors (whether thrown or explicit) flow through <code>router.onError()</code>, enabling consistent logging, metrics, and error tracking.</li><li><strong>Fire-and-Forget Semantics</strong>: <code>ctx.error()</code> never blocks on observability handlers. Lifecycle hooks run asynchronously in the background, decoupling error response latency from logging/metrics infrastructure. This ensures that slow observability systems don&#39;t slow down client error reporting.</li><li><strong>Protocol Clarity</strong>: The wire format automatically selects <code>RPC_ERROR</code> vs <code>ERROR</code> based on context, eliminating manual coordination.</li><li><strong>Backward Compatibility</strong>: Pre-1.0 clients using <code>@ws-kit/client</code> upgrade automatically to recognize the new <code>&quot;RPC_ERROR&quot;</code> type.</li></ul><h2 id="consequences" tabindex="-1">Consequences <a class="header-anchor" href="#consequences" aria-label="Permalink to “Consequences”">​</a></h2><ol><li><p><strong>Wire Format Change</strong>: RPC errors now send <code>type: &quot;RPC_ERROR&quot;</code> (instead of <code>&quot;$ws:rpc-error&quot;</code>). Clients must upgrade to recognize this type. Since ws-kit is pre-1.0, this is acceptable as a minor breaking change.</p></li><li><p><strong>Plugin Constraints</strong>: Plugins (validation, pubsub, etc.) MUST NOT redefine or override <code>ctx.error()</code>. If a plugin needs domain-specific error handling, it should enhance context with a separate method (e.g., <code>ctx.validateError()</code>) rather than shadowing the core primitive.</p></li><li><p><strong>RPC Terminal State</strong>: Calls to <code>ctx.reply()</code>, <code>ctx.progress()</code>, or <code>ctx.error()</code> are now mutually exclusive. Once any terminal response is sent, subsequent calls are no-ops. This is already enforced for <code>reply()</code> / <code>progress()</code> and is now extended to <code>error()</code>.</p></li><li><p><strong>Lifecycle Observability</strong>: <code>router.onError()</code> handlers are triggered asynchronously for all application errors (whether thrown or via <code>ctx.error()</code>). The error method does not wait for them; handlers run in the background without blocking the response. If handlers throw, exceptions are logged and swallowed to prevent disrupting the application.</p></li></ol><h2 id="implementation" tabindex="-1">Implementation <a class="header-anchor" href="#implementation" aria-label="Permalink to “Implementation”">​</a></h2><h3 id="core-components" tabindex="-1">Core Components <a class="header-anchor" href="#core-components" aria-label="Permalink to “Core Components”">​</a></h3><ul><li><p><strong><code>error-handling.ts</code></strong>: Exports <code>createErrorMethod()</code> and <code>createCoreErrorEnhancer()</code>.</p><ul><li><code>createErrorMethod()</code> builds the context method, takes a <code>LifecycleManager</code> for observability.</li><li><code>createCoreErrorEnhancer()</code> returns an enhancer function; registered early (-1000 priority) in router constructor.</li></ul></li><li><p><strong><code>base-context.ts</code></strong>: Defines <code>error()</code> signature on <code>MinimalContext</code>.</p></li><li><p><strong><code>rpc-context.ts</code></strong>: Does NOT redefine <code>error()</code>; inherits from <code>MinimalContext</code>.</p></li><li><p><strong><code>error.ts</code></strong>: Provides <code>WsKitError</code>, <code>ERROR_CODE_META</code>, <code>isStandardErrorCode()</code> for metadata and type guards.</p></li></ul><h3 id="wire-format" tabindex="-1">Wire Format <a class="header-anchor" href="#wire-format" aria-label="Permalink to “Wire Format”">​</a></h3><p>Non-RPC context:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ERROR&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;meta&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* client-provided metadata */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;payload&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NOT_FOUND&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;User not found&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;details&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;userId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;retryable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>RPC context:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;RPC_ERROR&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;meta&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;correlationId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;req-uuid&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;payload&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /* same structure as above */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="router-api" tabindex="-1">Router API <a class="header-anchor" href="#router-api" aria-label="Permalink to “Router API”">​</a></h3><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// User-facing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Called for all application errors:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // - thrown exceptions in handlers/middleware</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // - explicit ctx.error() calls</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`[\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ctx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">?.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">clientId</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}] \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">err</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">code</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}: \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">err</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">message</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Handler usage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyMessage, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">authorized) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PERMISSION_DENIED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Access denied&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyRequest, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> performWork</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ctx.payload);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ctx.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Caught error flows through lifecycle + error send</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Or explicit: ctx.error(&quot;INTERNAL&quot;, &quot;Work failed&quot;, { cause: err });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><h2 id="scope" tabindex="-1">Scope <a class="header-anchor" href="#scope" aria-label="Permalink to “Scope”">​</a></h2><p><strong>In scope:</strong></p><ul><li><code>ctx.error()</code> signature and fire-and-forget semantics</li><li>Unified wire format (<code>ERROR</code> vs <code>RPC_ERROR</code>)</li><li>One-shot semantics for RPC (shares reply guard)</li><li>Retry metadata inference from <code>ERROR_CODE_META</code></li><li>Lifecycle routing via <code>router.onError()</code></li><li>Support for standard and custom error codes</li><li>Type-safe error code literals</li></ul><p><strong>Out of scope:</strong></p><ul><li>Client-side UI error handling</li><li>Adapter-specific error responses</li><li>Richer observability frameworks (that&#39;s a future plugin concern)</li><li>Authorization/authentication logic (delegated to middleware)</li></ul><h2 id="versioning" tabindex="-1">Versioning <a class="header-anchor" href="#versioning" aria-label="Permalink to “Versioning”">​</a></h2><ul><li><strong>Pre-1.0 minor breaking change</strong>: Wire format rename + feature parity.</li><li><strong>Client libraries</strong> (<code>@ws-kit/client/zod</code>, <code>@ws-kit/client/valibot</code>) should be updated to recognize <code>&quot;RPC_ERROR&quot;</code> type in addition to legacy <code>&quot;$ws:rpc-error&quot;</code>.</li><li><strong>Changelog entry</strong>: Note the wire format change and that <code>ctx.error()</code> is now a core primitive.</li></ul><h2 id="references" tabindex="-1">References <a class="header-anchor" href="#references" aria-label="Permalink to “References”">​</a></h2><ul><li><a href="./015-unified-rpc-api-design">ADR-015: Unified RPC API Design</a> — Error code taxonomy and gRPC alignment</li><li><a href="./009-error-handling-and-lifecycle-hooks">ADR-009: Error Handling and Lifecycle Hooks</a> — Lifecycle hook design</li><li><a href="./030-context-methods-design">ADR-030: Context Methods Design</a> — Unified send/reply/progress API</li><li><a href="./031-plugin-adapter-architecture">ADR-031: Plugin-Adapter Architecture</a> — Plugin constraints and API boundaries</li><li><a href="./../specs/error-handling">docs/specs/error-handling.md</a> — Error code catalog and wire format</li><li><a href="./../specs/router">docs/specs/router.md</a> — Router lifecycle and handler registration</li></ul>`,33)])])}const g=s(r,[["render",t]]);export{k as __pageData,g as default};
